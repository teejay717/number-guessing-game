<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Guessing Game</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 2rem;
            background-color: rgb(211, 202, 195);
            font-family: sans-serif
        }
        .box {
            background-color: white;
            margin: 5rem;
            padding: 5rem;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            box-shadow: 5px 5px 9px 0px rgba(0,0,0,0.24);
            
        }
        button, input {
            font-size: 2rem;
            width: 300px;
            border-radius: 10px;
            font-style: italic;
        }

        h1 {
            margin-bottom: 0;
        }

       
    </style>
</head>
<body>
    <div class="box">
        <h1>Guess the number!</h1>
        <p>I'm thinking of a number from <strong>0 to 100.</strong> You have <strong>10</strong> guesses. You have <strong id="left">10</strong> guesses left</p>
        <input id="guess" type="number" min="0" max="100" placeholder="0-100">
        <button id="btnGuess">Guess</button>
        <button id="btnNew">New Game</button>

        <p id="message"></p>
    </div>
    <script>
        let answer;
        let guessesLeft;

        startGame();

        document.getElementById('btnGuess').addEventListener('click', handleGuess);
        document.getElementById('btnNew').addEventListener('click', startGame);

        
        function startGame(){
            answer = Math.floor(Math.random()*101);
            guessesLeft = 10;
            document.getElementById('left').textContent = guessesLeft;
            document.getElementById('message').textContent = '';
            const input = document.getElementById('guess');
            input.value = '';
            input.disabled = false;
            document.getElementById('btnGuess').disabled = false;
            input.focus();
        }

        function handleGuess(){
            const input = document.getElementById('guess');
            const value = Number(input.value);

            if (!Number.isInteger(value) || value < 0 || value > 100) {
                setMessage('Invalid input! Enter a whole number from 0-100.');
                return;
            }

            guessesLeft--;
            document.getElementById('left').textContent = guessesLeft;

            if (value === answer) {
                setMessage('Correct! You win!');
                endGame();
                return;
            } 
            if (guessesLeft === 0) {
                setMessage('You ran out of guesses! The number was ' + answer + '.');
                endGame();
                return;
            }

            if (value < answer) {
                setMessage('Too low! Try a higher number.');
            } else {
                setMessage('Too high! Try a lower number');
            }

            input.select();
        }

        function setMessage(text) {
            document.getElementById('message').textContent = text;
        }

        function endGame() {
            document.getElementById('guess').disabled = true;
            document.getElementById('btnGuess').disabled = true;
        }
    </script>
</body>
</html>